{"version":3,"file":"entrypoint-CQs6WTUY.js","sources":["../../../Client/src/entrypoints/entrypoint.ts"],"sourcesContent":["import {\r\n  UmbEntryPointOnInit,\r\n  UmbEntryPointOnUnload,\r\n} from \"@umbraco-cms/backoffice/extension-api\";\r\nimport { UMB_AUTH_CONTEXT } from \"@umbraco-cms/backoffice/auth\";\r\nimport { client } from \"../api/client.gen.js\";\r\n\r\n// load up the manifests here\r\nexport const onInit: UmbEntryPointOnInit = (_host, _extensionRegistry) => {\r\n  console.log(\"Hello from my extension ðŸŽ‰\");\r\n  // Will use only to add in Open API config with generated TS OpenAPI HTTPS Client\r\n  // Do the OAuth token handshake stuff\r\n  _host.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\r\n    // Get the token info from Umbraco\r\n    const config = authContext.getOpenApiConfiguration();\r\n\r\n    client.setConfig({\r\n      auth: config.token,\r\n      baseUrl: config.base,\r\n      credentials: config.credentials,\r\n    });\r\n  });\r\n};\r\n\r\nexport const onUnload: UmbEntryPointOnUnload = (_host, _extensionRegistry) => {\r\n  console.log(\"Goodbye from my extension ðŸ‘‹\");\r\n};\r\n"],"names":["onInit","_host","_extensionRegistry","UMB_AUTH_CONTEXT","authContext","config","client","onUnload"],"mappings":";;AAQa,MAAAA,IAA8B,CAACC,GAAOC,MAAuB;AACxE,UAAQ,IAAI,4BAA4B,GAGlCD,EAAA,eAAeE,GAAkB,OAAOC,MAAgB;AAEtD,UAAAC,IAASD,EAAY,wBAAwB;AAEnD,IAAAE,EAAO,UAAU;AAAA,MACf,MAAMD,EAAO;AAAA,MACb,SAASA,EAAO;AAAA,MAChB,aAAaA,EAAO;AAAA,IAAA,CACrB;AAAA,EAAA,CACF;AACH,GAEaE,IAAkC,CAACN,GAAOC,MAAuB;AAC5E,UAAQ,IAAI,8BAA8B;AAC5C;"}